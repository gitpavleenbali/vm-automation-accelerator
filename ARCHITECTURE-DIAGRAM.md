# ğŸ—ï¸ Complete Architecture Diagram

## Full Infrastructure Stack

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                         AZURE CLOUD ENVIRONMENT                        â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                        â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â•‘
â•‘  â”‚              CONTROL PLANE (Management)                         â”‚  â•‘
â•‘  â”‚  Resource Group: rg-vmaut-mgmt-eus-cp-rg                       â”‚  â•‘
â•‘  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â•‘
â•‘  â”‚                                                                 â”‚  â•‘
â•‘  â”‚  ğŸ“¦ Storage Account: stvmautmgmteustfstate                     â”‚  â•‘
â•‘  â”‚     â””â”€ Container: tfstate/                                     â”‚  â•‘
â•‘  â”‚        â”œâ”€ control-plane.tfstate                               â”‚  â•‘
â•‘  â”‚        â”œâ”€ workload-zone-dev-eastus.tfstate                    â”‚  â•‘
â•‘  â”‚        â”œâ”€ workload-zone-uat-eastus.tfstate                    â”‚  â•‘
â•‘  â”‚        â”œâ”€ workload-zone-prod-eastus.tfstate                   â”‚  â•‘
â•‘  â”‚        â”œâ”€ vm-deployment-dev-web.tfstate                       â”‚  â•‘
â•‘  â”‚        â”œâ”€ vm-deployment-dev-app.tfstate                       â”‚  â•‘
â•‘  â”‚        â””â”€ vm-deployment-dev-db.tfstate                        â”‚  â•‘
â•‘  â”‚                                                                 â”‚  â•‘
â•‘  â”‚  ğŸ” Key Vault: kv-vmaut-mgmt-eus-cp-kv                        â”‚  â•‘
â•‘  â”‚     â”œâ”€ Secrets: VM passwords, SSH keys                        â”‚  â•‘
â•‘  â”‚     â”œâ”€ Keys: Disk encryption keys                             â”‚  â•‘
â•‘  â”‚     â””â”€ Certificates: SSL/TLS certs                            â”‚  â•‘
â•‘  â”‚                                                                 â”‚  â•‘
â•‘  â”‚  âœ… ARM Deployment: vm-automation-control-plane               â”‚  â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â•‘
â•‘                                                                        â•‘
â•‘  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â•‘
â•‘                                                                        â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â•‘
â•‘  â”‚         WORKLOAD ZONE - DEV (Network Infrastructure)            â”‚  â•‘
â•‘  â”‚  Resource Group: rg-vmaut-dev-eus-wz-rg                        â”‚  â•‘
â•‘  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â•‘
â•‘  â”‚                                                                 â”‚  â•‘
â•‘  â”‚  ğŸŒ Virtual Network: vnet-vmaut-dev-eus-vnet                   â”‚  â•‘
â•‘  â”‚     Address Space: 10.0.0.0/16                                 â”‚  â•‘
â•‘  â”‚     DNS: Azure Default                                          â”‚  â•‘
â•‘  â”‚                                                                 â”‚  â•‘
â•‘  â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â•‘
â•‘  â”‚     â”‚  ğŸ“¡ Subnet: snet-vmaut-dev-eus-web-snet            â”‚    â”‚  â•‘
â•‘  â”‚     â”‚     10.0.1.0/24                                     â”‚    â”‚  â•‘
â•‘  â”‚     â”‚     ğŸ›¡ï¸  NSG: nsg-vmaut-dev-eus-web-nsg            â”‚    â”‚  â•‘
â•‘  â”‚     â”‚         â”œâ”€ Allow HTTP (80)                         â”‚    â”‚  â•‘
â•‘  â”‚     â”‚         â”œâ”€ Allow HTTPS (443)                       â”‚    â”‚  â•‘
â•‘  â”‚     â”‚         â””â”€ Deny All Other                          â”‚    â”‚  â•‘
â•‘  â”‚     â”‚     ğŸ”— Service Endpoints: Storage, KeyVault        â”‚    â”‚  â•‘
â•‘  â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â•‘
â•‘  â”‚                                                                 â”‚  â•‘
â•‘  â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â•‘
â•‘  â”‚     â”‚  ğŸ“¡ Subnet: snet-vmaut-dev-eus-app-snet            â”‚    â”‚  â•‘
â•‘  â”‚     â”‚     10.0.2.0/24                                     â”‚    â”‚  â•‘
â•‘  â”‚     â”‚     ğŸ›¡ï¸  NSG: nsg-vmaut-dev-eus-app-nsg            â”‚    â”‚  â•‘
â•‘  â”‚     â”‚         â”œâ”€ Allow 8080 (from VNet)                  â”‚    â”‚  â•‘
â•‘  â”‚     â”‚         â””â”€ Deny All Other                          â”‚    â”‚  â•‘
â•‘  â”‚     â”‚     ğŸ”— Service Endpoints: Storage, KeyVault, SQL   â”‚    â”‚  â•‘
â•‘  â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â•‘
â•‘  â”‚                                                                 â”‚  â•‘
â•‘  â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â•‘
â•‘  â”‚     â”‚  ğŸ“¡ Subnet: snet-vmaut-dev-eus-data-snet           â”‚    â”‚  â•‘
â•‘  â”‚     â”‚     10.0.3.0/24                                     â”‚    â”‚  â•‘
â•‘  â”‚     â”‚     ğŸ›¡ï¸  NSG: nsg-vmaut-dev-eus-data-nsg           â”‚    â”‚  â•‘
â•‘  â”‚     â”‚         â”œâ”€ Allow SQL (1433, from VNet)             â”‚    â”‚  â•‘
â•‘  â”‚     â”‚         â””â”€ Deny All Other                          â”‚    â”‚  â•‘
â•‘  â”‚     â”‚     ğŸ”— Service Endpoints: SQL                      â”‚    â”‚  â•‘
â•‘  â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â•‘
â•‘  â”‚                                                                 â”‚  â•‘
â•‘  â”‚  ğŸ”’ Private DNS Zones:                                         â”‚  â•‘
â•‘  â”‚     â”œâ”€ privatelink.blob.core.windows.net                       â”‚  â•‘
â•‘  â”‚     â””â”€ privatelink.vaultcore.azure.net                         â”‚  â•‘
â•‘  â”‚                                                                 â”‚  â•‘
â•‘  â”‚  âœ… ARM Deployment: vm-automation-workload-zone                â”‚  â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â•‘
â•‘                                                                        â•‘
â•‘  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â•‘
â•‘                                                                        â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â•‘
â•‘  â”‚          VM DEPLOYMENT - WEB TIER                               â”‚  â•‘
â•‘  â”‚  Resource Group: rg-vmaut-dev-web-vm-rg                        â”‚  â•‘
â•‘  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â•‘
â•‘  â”‚                                                                 â”‚  â•‘
â•‘  â”‚  ğŸ’» Virtual Machines (Linux):                                  â”‚  â•‘
â•‘  â”‚                                                                 â”‚  â•‘
â•‘  â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚  â•‘
â•‘  â”‚     â”‚  ğŸ§ vm-vmaut-dev-web-web01               â”‚               â”‚  â•‘
â•‘  â”‚     â”‚     Size: Standard_D2s_v3                â”‚               â”‚  â•‘
â•‘  â”‚     â”‚     Zone: 1                              â”‚               â”‚  â•‘
â•‘  â”‚     â”‚     Private IP: 10.0.1.4                 â”‚               â”‚  â•‘
â•‘  â”‚     â”‚     Public IP: 20.10.5.100 (optional)    â”‚               â”‚  â•‘
â•‘  â”‚     â”‚     OS: Ubuntu 22.04 LTS                 â”‚               â”‚  â•‘
â•‘  â”‚     â”‚     OS Disk: 128 GB Premium SSD          â”‚               â”‚  â•‘
â•‘  â”‚     â”‚     âš¡ Accelerated Networking: Yes        â”‚               â”‚  â•‘
â•‘  â”‚     â”‚     ğŸ”Œ NIC: nic-vmaut-dev-web-web01-nic  â”‚               â”‚  â•‘
â•‘  â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚  â•‘
â•‘  â”‚                                                                 â”‚  â•‘
â•‘  â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚  â•‘
â•‘  â”‚     â”‚  ğŸ§ vm-vmaut-dev-web-web02               â”‚               â”‚  â•‘
â•‘  â”‚     â”‚     Size: Standard_D2s_v3                â”‚               â”‚  â•‘
â•‘  â”‚     â”‚     Zone: 2                              â”‚               â”‚  â•‘
â•‘  â”‚     â”‚     Private IP: 10.0.1.5                 â”‚               â”‚  â•‘
â•‘  â”‚     â”‚     Public IP: 20.10.5.101 (optional)    â”‚               â”‚  â•‘
â•‘  â”‚     â”‚     OS: Ubuntu 22.04 LTS                 â”‚               â”‚  â•‘
â•‘  â”‚     â”‚     OS Disk: 128 GB Premium SSD          â”‚               â”‚  â•‘
â•‘  â”‚     â”‚     âš¡ Accelerated Networking: Yes        â”‚               â”‚  â•‘
â•‘  â”‚     â”‚     ğŸ”Œ NIC: nic-vmaut-dev-web-web02-nic  â”‚               â”‚  â•‘
â•‘  â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚  â•‘
â•‘  â”‚                                                                 â”‚  â•‘
â•‘  â”‚  ğŸ“Š Availability: Zones 1 & 2 (99.99% SLA)                     â”‚  â•‘
â•‘  â”‚  âœ… ARM Deployment: vm-automation-vm-deployment                â”‚  â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â•‘
â•‘                                                                        â•‘
â•‘  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â•‘
â•‘                                                                        â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â•‘
â•‘  â”‚          VM DEPLOYMENT - APP TIER                               â”‚  â•‘
â•‘  â”‚  Resource Group: rg-vmaut-dev-app-vm-rg                        â”‚  â•‘
â•‘  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â•‘
â•‘  â”‚                                                                 â”‚  â•‘
â•‘  â”‚  ğŸ’» Virtual Machines (Windows):                                â”‚  â•‘
â•‘  â”‚                                                                 â”‚  â•‘
â•‘  â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚  â•‘
â•‘  â”‚     â”‚  ğŸªŸ vm-vmaut-dev-app-app01               â”‚               â”‚  â•‘
â•‘  â”‚     â”‚     Size: Standard_E4s_v3                â”‚               â”‚  â•‘
â•‘  â”‚     â”‚     Zone: 1                              â”‚               â”‚  â•‘
â•‘  â”‚     â”‚     Private IP: 10.0.2.4                 â”‚               â”‚  â•‘
â•‘  â”‚     â”‚     OS: Windows Server 2022              â”‚               â”‚  â•‘
â•‘  â”‚     â”‚     OS Disk: 128 GB Premium SSD          â”‚               â”‚  â•‘
â•‘  â”‚     â”‚     License: Windows_Server               â”‚               â”‚  â•‘
â•‘  â”‚     â”‚     âš¡ Accelerated Networking: Yes        â”‚               â”‚  â•‘
â•‘  â”‚     â”‚     ğŸ”Œ NIC: nic-vmaut-dev-app-app01-nic  â”‚               â”‚  â•‘
â•‘  â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚  â•‘
â•‘  â”‚                                                                 â”‚  â•‘
â•‘  â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚  â•‘
â•‘  â”‚     â”‚  ğŸªŸ vm-vmaut-dev-app-app02               â”‚               â”‚  â•‘
â•‘  â”‚     â”‚     Size: Standard_E4s_v3                â”‚               â”‚  â•‘
â•‘  â”‚     â”‚     Zone: 2                              â”‚               â”‚  â•‘
â•‘  â”‚     â”‚     Private IP: 10.0.2.5                 â”‚               â”‚  â•‘
â•‘  â”‚     â”‚     OS: Windows Server 2022              â”‚               â”‚  â•‘
â•‘  â”‚     â”‚     OS Disk: 128 GB Premium SSD          â”‚               â”‚  â•‘
â•‘  â”‚     â”‚     License: Windows_Server               â”‚               â”‚  â•‘
â•‘  â”‚     â”‚     âš¡ Accelerated Networking: Yes        â”‚               â”‚  â•‘
â•‘  â”‚     â”‚     ğŸ”Œ NIC: nic-vmaut-dev-app-app02-nic  â”‚               â”‚  â•‘
â•‘  â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚  â•‘
â•‘  â”‚                                                                 â”‚  â•‘
â•‘  â”‚  ğŸ“Š Availability: Zones 1 & 2 (99.99% SLA)                     â”‚  â•‘
â•‘  â”‚  âœ… ARM Deployment: vm-automation-vm-deployment                â”‚  â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â•‘
â•‘                                                                        â•‘
â•‘  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â•‘
â•‘                                                                        â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â•‘
â•‘  â”‚          VM DEPLOYMENT - DATABASE TIER                          â”‚  â•‘
â•‘  â”‚  Resource Group: rg-vmaut-dev-db-vm-rg                         â”‚  â•‘
â•‘  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â•‘
â•‘  â”‚                                                                 â”‚  â•‘
â•‘  â”‚  ğŸ’» Virtual Machines (Linux):                                  â”‚  â•‘
â•‘  â”‚                                                                 â”‚  â•‘
â•‘  â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚  â•‘
â•‘  â”‚     â”‚  ğŸ—„ï¸  vm-vmaut-dev-db-db01                â”‚               â”‚  â•‘
â•‘  â”‚     â”‚     Size: Standard_E8s_v3                â”‚               â”‚  â•‘
â•‘  â”‚     â”‚     Zone: 1                              â”‚               â”‚  â•‘
â•‘  â”‚     â”‚     Private IP: 10.0.3.4                 â”‚               â”‚  â•‘
â•‘  â”‚     â”‚     OS: Ubuntu 22.04 LTS                 â”‚               â”‚  â•‘
â•‘  â”‚     â”‚     OS Disk: 128 GB Premium SSD          â”‚               â”‚  â•‘
â•‘  â”‚     â”‚     ğŸ“€ Data Disk 1: 512 GB Premium SSD   â”‚               â”‚  â•‘
â•‘  â”‚     â”‚        (LUN 0, ReadWrite caching)        â”‚               â”‚  â•‘
â•‘  â”‚     â”‚     ğŸ“€ Data Disk 2: 256 GB Premium SSD   â”‚               â”‚  â•‘
â•‘  â”‚     â”‚        (LUN 1, ReadWrite caching)        â”‚               â”‚  â•‘
â•‘  â”‚     â”‚     âš¡ Accelerated Networking: Yes        â”‚               â”‚  â•‘
â•‘  â”‚     â”‚     ğŸ”Œ NIC: nic-vmaut-dev-db-db01-nic    â”‚               â”‚  â•‘
â•‘  â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚  â•‘
â•‘  â”‚                                                                 â”‚  â•‘
â•‘  â”‚  ğŸ“Š Availability: Zone 1 (single instance)                     â”‚  â•‘
â•‘  â”‚  âœ… ARM Deployment: vm-automation-vm-deployment                â”‚  â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â•‘
â•‘                                                                        â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

## Remote State Dependency Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Control Plane      â”‚
â”‚  State File         â”‚
â”‚  â”œâ”€ Key Vault ID    â”‚
â”‚  â”œâ”€ Backend Config  â”‚
â”‚  â””â”€ Random ID       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚                                          â”‚
           â†“                                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Workload Zone (Dev) â”‚                  â”‚  Workload Zone (UAT) â”‚
â”‚  State File          â”‚                  â”‚  State File          â”‚
â”‚  â”œâ”€ VNet ID          â”‚                  â”‚  â”œâ”€ VNet ID          â”‚
â”‚  â”œâ”€ Subnet IDs       â”‚                  â”‚  â”œâ”€ Subnet IDs       â”‚
â”‚  â””â”€ NSG IDs          â”‚                  â”‚  â””â”€ NSG IDs          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                                          â”‚
           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
           â”‚            â”‚             â”‚              â”‚
           â†“            â†“             â†“              â†“
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ VM Deploy   â”‚  â”‚ VM      â”‚  â”‚ VM      â”‚  â”‚ VM Deploy   â”‚
  â”‚ (Web Tier)  â”‚  â”‚ (App)   â”‚  â”‚ (DB)    â”‚  â”‚ (UAT)       â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Module Interaction

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    NAMING MODULE                           â”‚
â”‚  â”œâ”€ Resource Group: rg-{project}-{env}-{location}-{suffix} â”‚
â”‚  â”œâ”€ VNet: vnet-{project}-{env}-{location}-vnet            â”‚
â”‚  â”œâ”€ VM: vm-{project}-{env}-{workload}-{name}              â”‚
â”‚  â””â”€ Disk: disk-{project}-{env}-{workload}-{name}          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  TRANSFORM LAYER                           â”‚
â”‚  â”œâ”€ Normalize inputs (environment, location, etc.)        â”‚
â”‚  â”œâ”€ Apply defaults (image, disk size, networking)         â”‚
â”‚  â”œâ”€ Validate configuration                                 â”‚
â”‚  â””â”€ Generate common tags                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              MAIN RESOURCE CREATION                        â”‚
â”‚  â”œâ”€ Resource Groups                                        â”‚
â”‚  â”œâ”€ Networks (VNet, Subnets, NSGs)                        â”‚
â”‚  â”œâ”€ Compute (VMs, Disks, NICs)                            â”‚
â”‚  â””â”€ ARM Tracking                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    OUTPUTS                                 â”‚
â”‚  â”œâ”€ Resource IDs & Names                                  â”‚
â”‚  â”œâ”€ IP Addresses                                          â”‚
â”‚  â”œâ”€ Connection Information                                â”‚
â”‚  â””â”€ Deployment Summary                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ Key Features Visualized

### High Availability
- **Availability Zones**: VMs spread across zones 1, 2, 3
- **99.99% SLA**: Multi-zone deployments
- **Automatic Failover**: Azure-managed

### Security
- **Network Segmentation**: Separate subnets per tier
- **NSG Rules**: Least-privilege access
- **Private Endpoints**: No public internet exposure
- **Key Vault Integration**: Secure secret storage

### Performance
- **Accelerated Networking**: 30Gbps+ throughput
- **Premium SSD**: Low-latency storage
- **Proximity Placement Groups**: <1ms latency between VMs

### Scalability
- **Array Support**: Unlimited VMs per tier
- **Dynamic Resources**: Auto-created NICs, disks
- **Multiple Environments**: Dev, UAT, Prod isolated

---

**Total Resources in Example**: 
- 1 Control Plane
- 1 Workload Zone (3 subnets, 3 NSGs)
- 5 VMs (2 web, 2 app, 1 db)
- 7 NICs
- 5 OS Disks
- 2 Data Disks
- **= 24 Azure Resources** fully automated! ğŸš€
